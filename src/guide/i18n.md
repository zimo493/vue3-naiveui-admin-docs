---
title: å¤šè¯­è¨€
tags: [é…ç½®]
---

<!-- ::: warning ğŸš§ æ–½å·¥ä¸­

å˜¿ï¼Œæœ‹å‹ï¼è¿™ä¸ªé¡µé¢è¿˜åœ¨åŠªåŠ›å»ºè®¾ä¸­ï¼Œæš‚æ—¶æ— æ³•è®¿é—®ã€‚ä¸è¿‡åˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬æ­£åœ¨åŠ ç­åŠ ç‚¹æ–½å·¥ï¼Œå¾ˆå¿«å°±èƒ½ä¸æ‚¨è§é¢ï¼
åœ¨æ­¤æœŸé—´ï¼Œæ‚¨å¯ä»¥çœ‹çœ‹å…¶ä»–ç²¾å½©å†…å®¹ï¼š

- [ç»„ä»¶å°è£…](/components/form-pro)
- [å¼€å‘è®¾ç½®](/dev/editor)

æ„Ÿè°¢æ‚¨çš„è€å¿ƒç­‰å¾…ï¼âœ¨

::: -->

é¡¹ç›®ä¸­çš„å¤šè¯­è¨€é…ç½®ä¸»è¦æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶å’Œç›®å½•ï¼š

- `locales/` - å­˜æ”¾å„è¯­è¨€çš„ç¿»è¯‘æ–‡ä»¶
  - `en_US.json` - è‹±æ–‡ç¿»è¯‘
  - `zh_CN.json` - ç®€ä½“ä¸­æ–‡ç¿»è¯‘
  - `zh_TW.json` - ç¹ä½“ä¸­æ–‡ç¿»è¯‘
- `src/modules/i18n.ts` - i18n åˆå§‹åŒ–é…ç½®
- `src/utils/i18n.ts` - i18n å·¥å…·å‡½æ•°
- `src/utils/storage.ts` - æœ¬åœ°å­˜å‚¨å·¥å…·
- `src/store/models/app.ts` - å…¨å±€çŠ¶æ€ç®¡ç†
- `src/components/common/LangSwitch.vue` - è¯­è¨€åˆ‡æ¢ç»„ä»¶

## å¤šè¯­è¨€å®ç°åŸç†

### åˆå§‹åŒ–é…ç½®

åœ¨ `src/modules/i18n.ts` ä¸­ï¼Œé€šè¿‡ `vue-i18n` æ’ä»¶åˆå§‹åŒ–å¤šè¯­è¨€é…ç½®

### è¯­è¨€åˆ‡æ¢å®ç°

è¯­è¨€åˆ‡æ¢ä¸»è¦é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤å®ç°ï¼š

1. åœ¨ `src/components/common/LangSwitch.vue` ç»„ä»¶ä¸­æä¾›è¯­è¨€åˆ‡æ¢ç•Œé¢
2. åœ¨ `src/store/models/app.ts` ä¸­å¤„ç†è¯­è¨€åˆ‡æ¢é€»è¾‘
3. åœ¨ `src/utils/i18n.ts` ä¸­å®ç°è¯­è¨€è®¾ç½®å·¥å…·å‡½æ•°

### æœ¬åœ°å­˜å‚¨

è¯­è¨€è®¾ç½®é€šè¿‡ `src/utils/storage.ts` ä¸­çš„æœ¬åœ°å­˜å‚¨å·¥å…·è¿›è¡ŒæŒä¹…åŒ–

## ä½¿ç”¨æ–¹æ³•

åœ¨ `locales/en_US.json`ã€`locales/zh_CN.json` å’Œ `locales/zh_TW.json` ä¸­æ·»åŠ ç›¸åº”çš„ç¿»è¯‘å†…å®¹

```json
// en_US.json
{
  "common": {
    "newKey": "New Translation"
  }
}

// zh_CN.json
{
  "common": {
    "newKey": "æ–°ç¿»è¯‘"
  }
}

// zh_TW.json
{
  "common": {
    "newKey": "æ–°ç¿»è­¯"
  }
}
```

### åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨

åœ¨ Vue ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡ `useI18n()` è·å– `t` å‡½æ•°æ¥ä½¿ç”¨ç¿»è¯‘

```vue
<script setup lang="ts">
const { t } = useI18n();
</script>

<template>
  <div>{{ t("common.newKey") }}</div>
</template>
```

### åœ¨ ts ä¸­ä½¿ç”¨

åœ¨ ts æ–‡ä»¶ä¸­å¯ä»¥é€šè¿‡ `utlis` å·¥å…·è·å– `$t` å‡½æ•°æ¥ä½¿ç”¨ç¿»è¯‘

```ts
import { $t } from "@/utils";

console.log($t("common.newKey"));
```

### èœå•è·¯ç”±ç¿»è¯‘è®¾ç½®

æ ¹æ®è·¯ç”±èœå•çš„ `name` å±æ€§è·å–å¯¹åº”çš„ç¿»è¯‘ï¼Œåœ¨ `locales/en_US.json`ã€`locales/zh_CN.json` å’Œ `locales/zh_TW.json` çš„ `route (å·²æœ‰)` ä¸‹æ·»åŠ ç›¸åº”çš„ç¿»è¯‘å†…å®¹

å¯¹äºåŠ¨æ€è·¯ç”±çš„ç¿»è¯‘ï¼Œåå°è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š

:::details æ¥å£è¿”å›çš„æ•°æ®ä»¥ "ç³»ç»Ÿç®¡ç†" ä¸ºä¾‹

```json
{
  "path": "/system",
  "component": "Layout",
  "name": "/system",
  "meta": {
    "title": "ç³»ç»Ÿç®¡ç†",
    "icon": "material-symbols:jamboard-kiosk",
    "hidden": false,
    "alwaysShow": false,
    "params": null
  },
  "children": [
    {
      "path": "user",
      "component": "system/user/index",
      "name": "User",
      "meta": {
        "title": "ç”¨æˆ·ç®¡ç†",
        "icon": "ep:user-filled",
        "hidden": false,
        "keepAlive": true,
        "alwaysShow": false,
        "params": null
      }
    },
  // ......
  ]
},
```

:::

:::warning âš ï¸ æ³¨æ„
å½“è¿”å›çš„æ•°æ® `component` ä¸º `"Layout"` æ—¶ï¼Œéµå¾ªä»¥ä¸‹è§„åˆ™
:::

å¦‚æœ `component` ä¸º `"Layout"`ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šé»˜è®¤ä»¥ `path` åšä¸ºç¿»è¯‘çš„é”®ã€‚

- ä¾‹å¦‚ `path` ä¸º `/system`ï¼Œé‚£ä¹ˆé»˜è®¤çš„ç¿»è¯‘é”®ä¸º `System`ã€‚
- å¦‚æœ `path` ä¸º `/system-management`ï¼Œé‚£ä¹ˆé»˜è®¤çš„ç¿»è¯‘é”®ä¸º `SystemManagement`ã€‚

æˆ‘ä»¬é»˜è®¤ä¼šå»é™¤ `/`ã€`_`ã€`-` è¿™æ ·çš„ç¬¦å·ï¼Œå¹¶æŠŠå•è¯é¦–å­—æ¯å¤§å†™ï¼ˆå¤§é©¼å³°ï¼‰ã€‚

```json
// en_US.json
{
  "route": {
    // ......
    "System": "System",
    "SystemManagement": "System Management"
  }
}

// zh_CN.json
{
  "route": {
    // ......
    "System": "ç³»ç»Ÿ",
    "SystemManagement": "ç³»ç»Ÿç®¡ç†"
  }
}

// zh_TW.json
{
  "route": {
    // ......
    "System": "ç³»çµ±",
    "SystemManagement": "ç³»çµ±ç®¡ç†"
  }
}
```

::: tip ğŸ’¡ æç¤º
å¦‚æœæœªè®¾ç½®ç¿»è¯‘é”®ï¼Œé‚£ä¹ˆå°±é»˜è®¤ä½¿ç”¨ `meta` ä¸­çš„ `title` åšä¸ºæ˜¾ç¤ºçš„æ–‡æœ¬
:::

## é»˜è®¤è¯­è¨€è®¾ç½®

é»˜è®¤è¯­è¨€é€šè¿‡ `.env.development` å’Œ `.env.production` æ–‡ä»¶ä¸­çš„ `VITE_DEFAULT_LANG` å˜é‡è®¾ç½®

```ini [.env]
# é»˜è®¤å¤šè¯­è¨€ enUS | zhCN | zhTW
VITE_DEFAULT_LANG='zhCN'
```

## æ³¨æ„äº‹é¡¹

1. è¯­è¨€åˆ‡æ¢åä¼šé‡æ–°åŠ è½½é¡µé¢ä»¥åº”ç”¨æ–°çš„è¯­è¨€è®¾ç½®
2. è¯­è¨€è®¾ç½®ä¼šæŒä¹…åŒ–å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸‹æ¬¡è®¿é—®æ—¶ä¼šè‡ªåŠ¨åº”ç”¨ä¸Šæ¬¡é€‰æ‹©çš„è¯­è¨€
3. æ·»åŠ æ–°çš„ç¿»è¯‘å†…å®¹æ—¶ï¼Œéœ€è¦åœ¨æ‰€æœ‰è¯­è¨€æ–‡ä»¶ä¸­åŒæ­¥æ·»åŠ å¯¹åº”çš„ç¿»è¯‘
